


  <div class="container">


    <div class="row">
      <!-- choose a username here! -->
      <div class="col-md-6">
        <ng-template [ngIf]="!usernameFlag">
            <label>choose a username</label>
            <div class="input-group">
                <input
                id="chooseUsername"
                 [(ngModel)]="username"
                  name="username"
                   class="form-control"
                    type="text"
                    placeholder="Choose user name"
                    [(ngModel)]="user">
                <span>
                    <button class="btn btn-success" (click)="saveUserName()">Save</button>
                </span>
            </div>
        </ng-template>

      </div>

      <!-- choose a room  -->
      <div class="col-md-6">
        <strong>Choose room</strong>


            <select  [(ngModel)]="room" class="form-control">
                <option value="Lobby">Lobby</option>
                <option value="Hall">Hall</option>
                <option value="Deluxe">Deluxe</option>
              </select>

              <button class="btn btn-primary" (click)="join()">Join</button>
              <button class="btn btn-danger" (click)="leave()">leave</button>

      </div>
    </div>


    <ng-template [ngIf]="usernameFlag">
        <h1>Hey {{username}}</h1>
        <hr>

    </ng-template>



    <div class="row">


      <div id="mainPageMessages" class="col-md-10">
          <div id="messageInChat" *ngFor="let item of allMessages">
            <strong id="Username">{{item.user}} : </strong>
              <p>{{item.message}}</p>
              <p id="timeStamp">{{item.date}}</p>
              <hr>


               </div>
      </div>

      <div class="col-md-2">
          <h5>online users</h5>


        </div>


    </div>
    <ng-template [ngIf]="userTypingflag">
        <div>
            <h5><strong>{{usertypingArray}}</strong></h5>
          </div>
    </ng-template>

    <ng-template [ngIf]="usernameFlag">
        <div class="row">


            <div class="col-md-5">
              <div>

                    <input
                    required
                      id="inputMessage"
                        maxlength="50"
                         (keydown)="sendMessage($event)"
                          (keypress)="usertyping($event)"
                           class="form-control"
                            [(ngModel)]="messegeContent"
                             name="messegeContent"
                              type="text"
                               placeholder="write message here.."
                               >

            </div>
          </div>


        </div>
      </ng-template>



  <hr>




